(this["webpackJsonpdialogflow-reddit-chatbot"]=this["webpackJsonpdialogflow-reddit-chatbot"]||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),l=a(18),c=a(28),s=a(65),m=a(21),d=a(12),u=[{id:1,bot:!0,fullfilment:"Greetings \ud83d\ude00, reddit chatbot here \ud83d\udc4b. You can ask me about top/hot or new post from different subreddits. Like 'show me top 5 funny posts' or 'I would new posts from r/ask subreddit, please'. Try it out now \ud83d\udc47"}],f={show:!1},h=[],E={open:!1},p={text:""},g=Object(c.c)({chats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHAT":(e=Object(d.a)(e)).push(Object(m.a)({id:e.length+1},t.data))}return e},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":e=Object(m.a)({},e,{show:t.show})}return e},suggestions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUGGESTIONS":e=Object(d.a)(e)}return e},openChat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPENCHAT":e=Object(m.a)({},e,{open:t.open})}return e},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_QUERY":e=Object(m.a)({},e,{text:t.text})}return e}}),b=Object(c.d)(g,Object(c.a)(s.a)),y=a(67),v=a.n(y),w=function(e){return{type:"ADD_QUERY",text:e}},x=function(e){return{type:"OPENCHAT",open:e}},O=function(e){return{type:"LOADING",show:e}},W=function(e){return{type:"CHAT",data:e}},j=a(137),F=a(147),k=a(143),N=a(16),z=a(19),A=a(149),C=a(142),D=a(145),B=a(29),S=a(139),R=a(140),I=function(e){var t="bot".concat(e.data.id);return Object(n.useEffect)((function(){Object(B.a)({targets:".".concat(t),translateY:[30,0]})}),[t]),r.a.createElement(F.a,{className:t,my:3,mb:1},r.a.createElement(j.a,{direction:"row",container:!0,justify:"flex-end"},r.a.createElement(j.a,{item:!0,style:{maxWidth:"75%"}},r.a.createElement(S.a,{variant:"outlined",style:{border:"2px solid #FF4500",borderRadius:"15px"}},r.a.createElement(R.a,{style:{padding:"0"}},r.a.createElement(F.a,{p:1,fontWeight:"fontWeightBold"},e.data.fullfilment))))))},Y=a(141),T=a(150),H=a(70),G=function(e){return r.a.createElement(F.a,{mt:1},r.a.createElement("a",{style:{textDecoration:"none"},target:"_blank",rel:"noopener noreferrer",href:"https://www.reddit.com".concat(e.data.url)},r.a.createElement(S.a,{variant:"outlined",style:{border:"2px solid #FF4500",borderRadius:"15px"}},r.a.createElement(R.a,{style:{padding:"6px 10px"}},r.a.createElement(j.a,{container:!0,direction:"column"},r.a.createElement(j.a,{item:!0,sm:!0},r.a.createElement(F.a,{fontWeight:"fontWeightBold",fontSize:"overline.fontSize",style:{color:"#FF4500"}},e.data.subreddit)),r.a.createElement(j.a,{item:!0,sm:!0},r.a.createElement(Y.a,{noWrap:!0,style:{fontFamily:"'Quicksand', sans-serif",fontWeight:"700"}},e.data.title)),r.a.createElement(j.a,{item:!0,sm:!0},r.a.createElement(F.a,{mt:1,fontWeight:"fontWeightBold"},r.a.createElement(T.a,{style:{width:"100%"},label:e.data.url,color:"primary",size:"small",icon:r.a.createElement(N.a,{icon:H.a,color:"#FFF"})}))))))))},q=function(e){var t="bot".concat(e.data.id);return Object(n.useEffect)((function(){Object(B.a)({targets:".".concat(t),translateY:[30,0]})}),[t]),r.a.createElement(F.a,{className:t,my:2},r.a.createElement(j.a,{direction:"row",spacing:1,container:!0,justify:"flex-start",style:{flexWrap:"nowrap"}},r.a.createElement(j.a,{item:!0}," ",r.a.createElement(N.a,{icon:z.b,size:"2x",color:"#FF4500"})),r.a.createElement(j.a,{item:!0,style:{maxWidth:"75%"}},r.a.createElement(S.a,{variant:"outlined",style:{border:"2px solid #FF4500",background:"#FF4500",borderRadius:"15px"}},r.a.createElement(R.a,{style:{padding:"0"}},r.a.createElement(F.a,{p:1,fontWeight:"fontWeightBold",style:{color:"white"}},e.data.fullfilment))))),function(e){if(e&&e.length)return r.a.createElement(j.a,{spacing:2,container:!0,direction:"row",style:{flexWrap:"nowrap"}},r.a.createElement(j.a,{item:!0}," ",r.a.createElement(N.a,{icon:z.b,size:"2x",color:"#FFF"})),r.a.createElement(j.a,{container:!0,direction:"column",style:{maxWidth:"72.5%"}},e.map((function(e,t){return r.a.createElement(j.a,{key:t,item:!0,style:{width:"100%"}},r.a.createElement(G,{data:e}))}))))}(e.data.redditPosts))},L=function(){Object(n.useEffect)((function(){Object(B.a)({targets:".loadingElement",translateY:[-3,3,0],direction:"alternate",loop:!0,delay:function(e,t,a){return 100*t},endDelay:function(e,t,a){return 100*(a-t)}}),Object(B.a)({targets:".loading",translateY:[30,0]})}));var e=r.a.createElement(j.a,{container:!0,direction:"row",style:{padding:"4px 0"}},r.a.createElement("div",{className:"loadingElement"}),r.a.createElement("div",{className:"loadingElement"}),r.a.createElement("div",{className:"loadingElement"}));return r.a.createElement(F.a,{className:"loading",my:2},r.a.createElement(j.a,{direction:"row",spacing:1,container:!0,justify:"flex-start",style:{flexWrap:"nowrap"}},r.a.createElement(j.a,{item:!0}," ",r.a.createElement(N.a,{icon:z.b,size:"2x",color:"#FF4500"})),r.a.createElement(j.a,{item:!0},r.a.createElement(T.a,{label:e,color:"primary"}))))},U=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.openChat.open})),a=Object(l.c)((function(e){return e.query.text})),o=Object(l.c)((function(e){return e.chats})),i=Object(l.c)((function(e){return e.loading.show}));Object(n.useEffect)((function(){var e=document.getElementById("chatDialog");e&&(e.scrollTop=e.scrollHeight)}));var c=function(){e((function(e,t){var a=t().query;a.text.length?(e(W({bot:!1,fullfilment:a.text})),e(O(!0)),e(w("")),v()({baseURL:"https://dialogflow-reddit-chatbot.herokuapp.com",url:"/chatbot",params:{query:a.text}}).then((function(t){e(W(t.data.data))})).catch((function(t){t.response?e(W({bot:!0,fullfilment:t.response.data.error.fullfilment})):e(W({bot:!0,fullfilment:t.message+" \ud83d\udc80"}))})).then((function(){e(O(!1))}))):e(W({bot:!0,fullfilment:"You didn't ask me anything \ud83d\ude10"}))}))};return r.a.createElement("div",null,r.a.createElement(A.a,{onClose:function(){e(x(!1))},open:t,scroll:"paper",maxWidth:"sm",fullWidth:!0},r.a.createElement(C.a,{id:"chatDialog",style:{height:"650px",overflowX:"hidden"},dividers:!0},o.map((function(e,t){return e.bot?r.a.createElement(q,{className:"chat",key:t,data:e}):r.a.createElement(I,{className:"chat",key:t,data:e})})),i?r.a.createElement(L,null):null),r.a.createElement(F.a,{px:3,py:2},r.a.createElement(j.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(F.a,{mr:1},r.a.createElement(D.a,{onKeyDown:function(e){var t;(t=e)&&"Enter"===t.key&&c()},onChange:function(t){return a=t.target.value,void e(w(a));var a},value:a,autoFocus:!0,id:"outlined-basic",fullWidth:!0,variant:"outlined",size:"small"}))),r.a.createElement(j.a,{item:!0},r.a.createElement(k.a,{onClick:c,style:{borderRadius:"10px"},variant:"contained",color:"primary",disableElevation:!0},r.a.createElement(F.a,{fontWeight:"fontWeightBold",textAlign:"left"},r.a.createElement(N.a,{icon:z.a,size:"lg"}))))))))},P=function(){var e=Object(l.b)();return r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{minHeight:"100vh"}},r.a.createElement(j.a,{xs:6,item:!0},r.a.createElement(F.a,{className:"elementColor",mb:8,fontSize:"h1.fontSize",textAlign:"center",fontWeight:"fontWeightBold"},"Dialogflow Reddit Chatbot")),r.a.createElement(j.a,{xs:4,item:!0},r.a.createElement(F.a,{mb:8,fontSize:"h5.fontSize",textAlign:"center",fontWeight:"fontWeightBold"},"A dailogflow chatbot that consumes the reddit api using a flask server-side and react client-side")),r.a.createElement(j.a,{xs:8,item:!0},r.a.createElement(k.a,{style:{borderRadius:"10px"},onClick:function(){e(x(!0))},variant:"contained",color:"primary",disableElevation:!0},r.a.createElement(F.a,{fontWeight:"fontWeightBold"},r.a.createElement(N.a,{icon:z.b})," Start")))),r.a.createElement(U,null))},Q=(a(107),a(71)),_=a(144);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=Object(Q.a)({palette:{primary:{main:"#FF4500",dark:"#FF4500"}}});i.a.render(r.a.createElement(l.a,{store:b},r.a.createElement(_.a,{theme:J},r.a.createElement((function(){return r.a.createElement("div",null,r.a.createElement(P,null))}),null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},80:function(e,t,a){e.exports=a(108)}},[[80,1,2]]]);
//# sourceMappingURL=main.70b0759c.chunk.js.map