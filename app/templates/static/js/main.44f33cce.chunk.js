(this["webpackJsonpdialogflow-reddit-chatbot"]=this["webpackJsonpdialogflow-reddit-chatbot"]||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),l=a.n(o),i=a(20),c=a(29),s=a(66),m=a(24),d=a(12),u=[{id:1,bot:!0,fullfilment:"Greetings \ud83d\ude00, reddit chatbot here \ud83d\udc4b. You can ask me about top/hot or new post from different subreddits. Like 'show me top 5 funny posts' or 'I would like new posts from r/ask subreddit, please'. Try it out now \ud83d\udc47"}],f={show:!1},h=[],E={open:!1},g={text:""},p=Object(c.c)({chats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHAT":(e=Object(d.a)(e)).push(Object(m.a)({id:e.length+1},t.data))}return e},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":e=Object(m.a)({},e,{show:t.show})}return e},suggestions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUGGESTIONS":e=Object(d.a)(e)}return e},openChat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPENCHAT":e=Object(m.a)({},e,{open:t.open})}return e},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_QUERY":e=Object(m.a)({},e,{text:t.text})}return e}}),b=Object(c.d)(p,Object(c.a)(s.a)),y=a(68),v=a.n(y),x=function(e){return{type:"ADD_QUERY",text:e}},w=function(e){return{type:"OPENCHAT",open:e}},W=function(e){return{type:"LOADING",show:e}},O=function(e){return{type:"CHAT",data:e}},j=a(140),F=a(152),k=a(150),z=a(146),A=a(17),N=a(22),C=a(153),S=a(145),B=a(148),D=a(30),R=a(142),I=a(143),Y=function(e){var t="bot".concat(e.data.id);return Object(n.useEffect)((function(){Object(D.a)({targets:".".concat(t),translateY:[30,0]})}),[t]),r.a.createElement(k.a,{className:t,my:3,mb:1},r.a.createElement(j.a,{direction:"row",container:!0,justify:"flex-end"},r.a.createElement(j.a,{item:!0,style:{maxWidth:"75%"}},r.a.createElement(R.a,{variant:"outlined",style:{border:"2px solid #FF4500",borderRadius:"15px"}},r.a.createElement(I.a,{style:{padding:"0"}},r.a.createElement(k.a,{p:1,fontWeight:"fontWeightBold"},e.data.fullfilment))))))},T=a(144),H=a(154),G=a(71),q=function(e){return r.a.createElement(k.a,{mt:1},r.a.createElement("a",{style:{textDecoration:"none"},target:"_blank",rel:"noopener noreferrer",href:"https://www.reddit.com".concat(e.data.url)},r.a.createElement(R.a,{variant:"outlined",style:{border:"2px solid #FF4500",borderRadius:"15px"}},r.a.createElement(I.a,{style:{padding:"6px 10px"}},r.a.createElement(j.a,{container:!0,direction:"column"},r.a.createElement(j.a,{item:!0,sm:!0},r.a.createElement(k.a,{fontWeight:"fontWeightBold",fontSize:"overline.fontSize",style:{color:"#FF4500"}},e.data.subreddit)),r.a.createElement(j.a,{item:!0,sm:!0},r.a.createElement(T.a,{noWrap:!0,style:{fontFamily:"'Quicksand', sans-serif",fontWeight:"700"}},e.data.title)),r.a.createElement(j.a,{item:!0,sm:!0},r.a.createElement(k.a,{mt:1,fontWeight:"fontWeightBold"},r.a.createElement(H.a,{style:{width:"100%"},label:e.data.url,color:"primary",size:"small",icon:r.a.createElement(A.a,{icon:G.a,color:"#FFF"})}))))))))},L=function(e){var t="bot".concat(e.data.id);return Object(n.useEffect)((function(){Object(D.a)({targets:".".concat(t),translateY:[30,0]})}),[t]),r.a.createElement(k.a,{className:t,my:2},r.a.createElement(j.a,{direction:"row",spacing:1,container:!0,justify:"flex-start",style:{flexWrap:"nowrap"}},r.a.createElement(j.a,{item:!0}," ",r.a.createElement(A.a,{icon:N.b,size:"2x",color:"#FF4500"})),r.a.createElement(j.a,{item:!0,style:{maxWidth:"75%"}},r.a.createElement(R.a,{variant:"outlined",style:{border:"2px solid #FF4500",background:"#FF4500",borderRadius:"15px"}},r.a.createElement(I.a,{style:{padding:"0"}},r.a.createElement(k.a,{p:1,fontWeight:"fontWeightBold",style:{color:"white"}},e.data.fullfilment))))),function(e){if(e&&e.length)return r.a.createElement(j.a,{spacing:2,container:!0,direction:"row",style:{flexWrap:"nowrap"}},r.a.createElement(j.a,{item:!0}," ",r.a.createElement(A.a,{icon:N.b,size:"2x",color:"#FFF"})),r.a.createElement(j.a,{container:!0,direction:"column",style:{maxWidth:"72.5%"}},e.map((function(e,t){return r.a.createElement(j.a,{key:t,item:!0,style:{width:"100%"}},r.a.createElement(q,{data:e}))}))))}(e.data.redditPosts))},U=function(){Object(n.useEffect)((function(){Object(D.a)({targets:".loadingElement",translateY:[-3,3,0],direction:"alternate",loop:!0,delay:function(e,t,a){return 100*t},endDelay:function(e,t,a){return 100*(a-t)}}),Object(D.a)({targets:".loading",translateY:[30,0]})}));var e=r.a.createElement(j.a,{container:!0,direction:"row",style:{padding:"4px 0"}},r.a.createElement("div",{className:"loadingElement"}),r.a.createElement("div",{className:"loadingElement"}),r.a.createElement("div",{className:"loadingElement"}));return r.a.createElement(k.a,{className:"loading",my:2},r.a.createElement(j.a,{direction:"row",spacing:1,container:!0,justify:"flex-start",style:{flexWrap:"nowrap"}},r.a.createElement(j.a,{item:!0}," ",r.a.createElement(A.a,{icon:N.b,size:"2x",color:"#FF4500"})),r.a.createElement(j.a,{item:!0},r.a.createElement(H.a,{label:e,color:"primary"}))))},P=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.openChat.open})),a=Object(i.c)((function(e){return e.query.text})),o=Object(i.c)((function(e){return e.chats})),l=Object(i.c)((function(e){return e.loading.show}));Object(n.useEffect)((function(){var e=document.getElementById("chatDialog");e&&(e.scrollTop=e.scrollHeight)}));var c=function(){e((function(e,t){var a=t().query;a.text.length?(e(O({bot:!1,fullfilment:a.text})),e(W(!0)),e(x("")),v()({baseURL:"https://dialogflow-reddit-chatbot.herokuapp.com",url:"/chatbot",params:{query:a.text}}).then((function(t){e(O(t.data.data))})).catch((function(t){t.response?e(O({bot:!0,fullfilment:t.response.data.error.fullfilment})):e(O({bot:!0,fullfilment:t.message+" \ud83d\udc80"}))})).then((function(){e(W(!1))}))):e(O({bot:!0,fullfilment:"You didn't ask me anything \ud83d\ude10"}))}))};return r.a.createElement("div",null,r.a.createElement(C.a,{onClose:function(){e(w(!1))},open:t,scroll:"paper",maxWidth:"sm",fullWidth:!0},r.a.createElement(S.a,{id:"chatDialog",style:{height:"650px",overflowX:"hidden"},dividers:!0},o.map((function(e,t){return e.bot?r.a.createElement(L,{className:"chat",key:t,data:e}):r.a.createElement(Y,{className:"chat",key:t,data:e})})),l?r.a.createElement(U,null):null),r.a.createElement(k.a,{px:3,py:2},r.a.createElement(j.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(k.a,{mr:1},r.a.createElement(B.a,{onKeyDown:function(e){var t;(t=e)&&"Enter"===t.key&&c()},onChange:function(t){return a=t.target.value,void e(x(a));var a},value:a,autoFocus:!0,id:"outlined-basic",fullWidth:!0,variant:"outlined",size:"small"}))),r.a.createElement(j.a,{item:!0},r.a.createElement(z.a,{onClick:c,style:{borderRadius:"10px"},variant:"contained",color:"primary",disableElevation:!0},r.a.createElement(k.a,{fontWeight:"fontWeightBold",textAlign:"left"},r.a.createElement(A.a,{icon:N.a,size:"lg"}))))))))},Q=function(){var e=Object(i.b)();return r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{minHeight:"100vh"}},r.a.createElement(F.a,{only:["xs","sm"]},r.a.createElement(j.a,{xs:6,item:!0},r.a.createElement(k.a,{className:"elementColor",mb:8,fontSize:"h1.fontSize",textAlign:"center",fontWeight:"fontWeightBold"},"Dialogflow Reddit Chatbot")),r.a.createElement(j.a,{xs:4,item:!0},r.a.createElement(k.a,{mb:8,fontSize:"h5.fontSize",textAlign:"center",fontWeight:"fontWeightBold"},"A dailogflow chatbot that consumes the reddit api using a flask server-side and react client-side"))),r.a.createElement(F.a,{only:["md","lg","xl"]},r.a.createElement(j.a,{xs:6,item:!0},r.a.createElement(k.a,{className:"elementColor",mb:8,fontSize:"h4.fontSize",textAlign:"center",fontWeight:"fontWeightBold"},"Dialogflow Reddit Chatbot")),r.a.createElement(j.a,{xs:8,item:!0},r.a.createElement(k.a,{mb:8,fontSize:"h6.fontSize",textAlign:"center",fontWeight:"fontWeightBold"},"A dailogflow chatbot that consumes the reddit api using a flask server-side and react client-side"))),r.a.createElement(j.a,{xs:8,item:!0},r.a.createElement(z.a,{style:{borderRadius:"10px"},onClick:function(){e(w(!0))},variant:"contained",color:"primary",disableElevation:!0},r.a.createElement(k.a,{fontWeight:"fontWeightBold"},r.a.createElement(A.a,{icon:N.b})," Start")))),r.a.createElement(P,null))},_=(a(108),a(72)),J=a(147);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=Object(_.a)({palette:{primary:{main:"#FF4500",dark:"#FF4500"}}});l.a.render(r.a.createElement(i.a,{store:b},r.a.createElement(J.a,{theme:K},r.a.createElement((function(){return r.a.createElement("div",null,r.a.createElement(Q,null))}),null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},81:function(e,t,a){e.exports=a(109)}},[[81,1,2]]]);
//# sourceMappingURL=main.44f33cce.chunk.js.map